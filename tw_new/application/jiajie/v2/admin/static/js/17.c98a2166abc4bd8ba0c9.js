webpackJsonp([17],{"+Rm6":function(e,t){},"97nB":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("fZjL"),o=a.n(n),d={name:"demandList",mounted:function(){this.getDemandList()},data:function(){var e=this;return{showItemModal:!1,showExampleModal:!1,currentId:0,currentIndex:-1,form:{reason:"请输入拒绝的理由"},itemForm:{demand_info:"",contact_name:"",demand_contact_name:"",demand_telephone:"",address_name:"",demand_address_name:"",demand_house_number:""},columns:[{title:"需求描述",key:"demand_info",align:"center"},{title:"姓名",key:"contact_name",align:"center"},{title:"电话",key:"demand_telephone",align:"center"},{title:"地址",key:"address_name",align:"center"},{title:"需求地址",key:"demand_address_name",align:"center"},{title:"状态",key:"demand_is_show",width:100,align:"center"},{title:"审核状态",key:"demand_is_show",width:300,align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",display:0==a.row.demand_is_show||-1==a.row.demand_is_show?"inline-block":"none"},on:{click:function(){e.thePass(a,a.index,1)}}},"通过"),t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",display:0==a.row.demand_is_show?"inline-block":"none"},on:{click:function(){e.currentId=a.row.id,e.currentIndex=a.index,e.showExampleModal=!0}}},"拒绝审核"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.tableList(a,a.index)}}},"查看详情")])}}],data:[]}},methods:{getDemandList:function(){var e=this;this.$http("demand.list").then(function(t){e.data=t.data})},thePass:function(e,t,a){var n=this,o=this.data[t].id,d=(this.data[t].demand_is_show,{pass:a,reason:this.form.reason});this.$http("demand.examine-"+o,d).then(function(e){n.data[t].demand_is_show=a})},updateDemand:function(e,t){var a=this,n=this.data[t].demand_is_show;this.$http("demand.examine-"+e).then(function(){a.data[t].demand_is_show=1==n?2:1})},tableList:function(e,t){var a=this,n=this.data[t].id;this.showItemModal=!0,this.$http("demand.get-"+n).then(function(e){o()(a.itemForm).forEach(function(t){a.itemForm[t]=e.data[t]||""})})}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",{attrs:{title:"需求管理"}},[a("Table",{attrs:{columns:e.columns,data:e.data}}),e._v(" "),a("Modal",{attrs:{title:"查看店铺详情","mask-closable":!1,width:"80"},model:{value:e.showItemModal,callback:function(t){e.showItemModal=t},expression:"showItemModal"}},[a("Form",{attrs:{"label-width":90},model:{value:e.itemForm,callback:function(t){e.itemForm=t},expression:"itemForm"}},[a("FormItem",{attrs:{label:"需求描述"}},[a("Input",{attrs:{placeholder:"需求描述"},model:{value:e.itemForm.demand_info,callback:function(t){e.$set(e.itemForm,"demand_info",t)},expression:"itemForm.demand_info"}})],1),e._v(" "),a("FormItem",{attrs:{label:"姓名"}},[a("Input",{attrs:{placeholder:"姓名"},model:{value:e.itemForm.demand_contact_name,callback:function(t){e.$set(e.itemForm,"demand_contact_name",t)},expression:"itemForm.demand_contact_name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"电话"}},[a("Input",{attrs:{placeholder:"电话"},model:{value:e.itemForm.demand_telephone,callback:function(t){e.$set(e.itemForm,"demand_telephone",t)},expression:"itemForm.demand_telephone"}})],1),e._v(" "),a("FormItem",{attrs:{label:"需求地址名"}},[a("Input",{attrs:{placeholder:"需求地址名"},model:{value:e.itemForm.demand_address_name,callback:function(t){e.$set(e.itemForm,"demand_address_name",t)},expression:"itemForm.demand_address_name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"门牌号"}},[a("Input",{attrs:{placeholder:"门牌号"},model:{value:e.itemForm.demand_house_number,callback:function(t){e.$set(e.itemForm,"demand_house_number",t)},expression:"itemForm.demand_house_number"}})],1)],1)],1),e._v(" "),a("Modal",{attrs:{"mask-closable":!1,title:"输入审核不通过的理由"},on:{"on-ok":function(t){e.toExamineStore(e.currentId,e.currentIndex,-1)}},model:{value:e.showExampleModal,callback:function(t){e.showExampleModal=t},expression:"showExampleModal"}},[a("Form",{ref:"formInline",attrs:{model:e.form,"label-width":80}},[a("FormItem",{attrs:{prop:"reason",label:"拒绝理由"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:e.form.reason},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1)],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(d,m,!1,function(e){a("+Rm6")},"data-v-0de9ea1a",null);t.default=s.exports}});
//# sourceMappingURL=17.c98a2166abc4bd8ba0c9.js.map