{"version":3,"sources":["webpack:///src/view/store/storeList.vue","webpack:///./src/view/store/storeList.vue?1ffe","webpack:///./src/view/store/storeList.vue"],"names":["api_prefix","window","config","storeList","name","mounted","_this","this","uploadList","$refs","upload","fileList","$http","then","rs","data","_this2","defaultFileList","uploadAction","imgName","visible","itemForm","store_name","store_director","store_phone","store_address","store_pic","currentId","currentIndex","form","reason","showItemModal","showExampleModal","columns","title","key","width","render","h","params","props","type","size","style","marginRight","on","click","$router","push","query","storeId","row","id","parseInt","forEach","pic","url","keys_default","k","$nextTick","display","store_status","path","store_id","toExamineStore","index","updateStoreAuditing","methods","handleView","handleRemove","file","_this3","imgUrl","replace","files","error","splice","indexOf","handleSuccess","res","status","handleFormatError","$Notice","warning","desc","handleMaxSize","handleBeforeUpload","check","length","_this4","pass","_this5","storeStatus","store_storeList","_vm","_h","$createElement","_c","_self","attrs","_v","mask-closable","on-ok","$event","model","value","callback","$$v","expression","ref","label-width","prop","label","autosize","minRows","maxRows","placeholder","$set","_l","item","staticClass","src","nativeOn","percent","percentage","hide-info","_e","staticStyle","show-upload-list","on-success","format","max-size","default-file-list","on-format-error","on-exceeded-size","before-upload","multiple","action","height","line-height","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.347cf3a3e9f00d831d7b.js","sourcesContent":["<template>\n  <Card title=\"店铺列表\">\n    <Table :columns=\"columns\" :data=\"data\"></Table>\n    <Modal\n      :mask-closable=\"false\"\n      v-model=\"showExampleModal\"\n      title=\"输入审核不通过的理由\"\n      @on-ok=\"toExamineStore(currentId, currentIndex, -1)\">\n      <Form ref=\"formInline\" :model=\"form\" :label-width=\"80\">\n        <FormItem prop=\"reason\" label=\"拒绝理由\">\n          <Input v-model=\"form.reason\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\" :placeholder=\"form.reason\"></Input>\n        </FormItem>\n      </Form>\n    </Modal>\n    <Modal\n      title=\"查看店铺详情\"\n      :mask-closable=\"false\"\n      width=\"80\"\n      v-model=\"showItemModal\">\n      <Form :label-width=\"90\" v-model=\"itemForm\">\n        <FormItem prop=\"store_name\" label=\"店铺名称\">\n          <Input v-model=\"itemForm.store_name\" placeholder=\"输入店铺名称\"></Input>\n        </FormItem>\n        <FormItem prop=\"store_name\" label=\"负责人姓名\">\n          <Input v-model=\"itemForm.store_director\" placeholder=\"服务人姓名\"></Input>\n        </FormItem>\n        <FormItem prop=\"store_name\" label=\"负责人电话\">\n          <Input v-model=\"itemForm.store_phone\" placeholder=\"负责人联系电话\"></Input>\n        </FormItem>\n        <FormItem prop=\"store_name\" label=\"店铺详细地址\">\n          <Input v-model=\"itemForm.store_address\" placeholder=\"店铺详细地址\"></Input>\n        </FormItem>\n        <FormItem prop=\"store_name\" label=\"店铺图片\">\n          <div class=\"demo-upload-list\" v-for=\"item in uploadList\">\n            <template v-if=\"item.status == 'finished'\">\n              <img :src=\"item.url\">\n              <div class=\"demo-upload-list-cover\">\n                <Icon type=\"ios-eye-outline\" @click.native=\"handleView(item.url)\"></Icon>\n                <Icon type=\"ios-trash-outline\" @click.native=\"handleRemove(item)\"></Icon>\n              </div>\n            </template>\n            <template v-else>\n              <Progress v-if=\"item.showProgress\" :percent=\"item.percentage\" hide-info></Progress>\n            </template>\n          </div>\n          <Upload\n            ref=\"upload\"\n            :show-upload-list=\"false\"\n            :on-success=\"handleSuccess\"\n            :format=\"['jpg','jpeg','png']\"\n            :max-size=\"2048\"\n            :default-file-list=\"defaultFileList\"\n            :on-format-error=\"handleFormatError\"\n            :on-exceeded-size=\"handleMaxSize\"\n            :before-upload=\"handleBeforeUpload\"\n            multiple\n            name=\"image\"\n            type=\"drag\"\n            :action=\"uploadAction\"\n            style=\"display: inline-block;width:58px;\">\n            <div style=\"width: 58px;height:58px;line-height: 58px;\">\n              <Icon type=\"ios-camera\" size=\"20\"></Icon>\n            </div>\n          </Upload>\n        </FormItem>\n      </Form>\n    </Modal>\n    <Modal title=\"View Image\" v-model=\"visible\">\n      <img :src=\"imgName\" v-if=\"visible\" style=\"width: 100%\">\n    </Modal>\n  </Card>\n</template>\n\n<script>\nconst api_prefix = window.config.api_prefix || 'http://jiajie-server.7dugo.com'\nexport default {\n  name: 'storeList',\n  mounted () {\n    this.uploadList = this.$refs.upload.fileList\n    this.$http('store.list').then(rs => {\n      this.data = rs.data\n    })\n  },\n  data () {\n    return {\n      api_prefix,\n      defaultFileList: [],\n      uploadAction: api_prefix + '/upload.image',\n      imgName: '',\n      visible: false,\n      uploadList: [],\n      itemForm: {\n        store_name: '',\n        store_director: '',\n        store_phone: '',\n        store_address: '',\n        store_pic: []\n      },\n      currentId: 0,\n      currentIndex: -1,\n      form: {\n        reason: '请输入拒绝的理由'\n      },\n      showItemModal: false,\n      showExampleModal: false,\n      columns: [\n        {\n          title: '店铺名称',\n          key: 'store_name'\n        },\n        {\n          title: '负责人名字',\n          key: 'store_director'\n        },\n        {\n          title: '负责人电话',\n          key: 'store_phone'\n        },\n        {\n          title: '店铺等级',\n          key: 'store_level'\n        },\n        {\n          title: '已售服务数量',\n          key: 'store_sold'\n        },\n        {\n          title: '操作',\n          width: 320,\n          key: 'store_status',\n          render: (h, params) => {\n            return h('div', [\n            h('Button', {\n                props: {\n                  type: 'primary',\n                  size: 'small'\n                },\n                style: {\n                  marginRight: '5px'\n                },\n                on: {\n                  click: () => {\n                    this.$router.push({\n                    \tname: 'staffList',\n                    \tquery: {\n                    \t\tstoreId: params.row.id\n                    \t}\n                    })\n                  }\n                }\n              }, '管理店员'),\n              h('Button', {\n                props: {\n                  type: 'primary',\n                  size: 'small'\n                },\n                style: {\n                  marginRight: '5px'\n                },\n                on: {\n                  click: () => {\n                    this.currentId = parseInt(params.row.id)\n                    this.$http(`store.get-${this.currentId}`).then(rs => {\n                      this.defaultFileList = this.uploadList = []\n                      rs.data['store_pic'].forEach(pic => {\n                        this.defaultFileList.push({\n                          name: rs.data.store_name,\n                          url: `${api_prefix}/${pic}`\n                        })\n                      })\n                      this.uploadList = this.defaultFileList\n                      Object.keys(this.itemForm).forEach(k => {\n                        this.itemForm[k] = rs.data[k] || ''\n                      })\n                      this.$nextTick(() => {\n                        this.showItemModal = true\n                      })\n                    })\n                  }\n                }\n              }, '查看详情'),\n              h('Button', {\n                props: {\n                  type: 'primary',\n                  size: 'small'\n                },\n                style: {\n                  marginRight: '5px',\n                  display: (params.row.store_status == 1 || params.row.store_status == 2) ? 'inline-block' : 'none'\n                },\n                on: {\n                  click: () => {\n                    this.$router.push({\n                      path: '/services/comment',\n                      query: {\n                        store_id: params.row.id\n                      }\n                    })\n                  }\n                }\n              },'查看评论'),\n              h('Button', {\n                props: {\n                  type: 'primary',\n                  size: 'small'\n                },\n                style: {\n                  marginRight: '5px',\n                  display: (params.row.store_status == 0 || params.row.store_status == -1) ? 'inline-block' : 'none'\n                },\n                on: {\n                  click: () => {\n                    this.toExamineStore(params.row.id, params.index, 1)\n                  }\n                }\n              }, '通过审核'),\n              h('Button', {\n                props: {\n                  type: 'primary',\n                  size: 'small'\n                },\n                style: {\n                  marginRight: '5px',\n                  display: params.row.store_status == 0 ? 'inline-block' : 'none'\n                },\n                on: {\n                  click: () => {\n                    this.currentId = params.row.id\n                    this.currentIndex = params.index\n                    this.showExampleModal = true\n                  }\n                }\n              }, '拒接审核'),\n              h('Button', {\n                props: {\n                  type: params.row.store_status == 1 ? 'error' : 'success',\n                  size: 'small'\n                },\n                style: {\n                  display: (params.row.store_status == 1 || params.row.store_status == 2) ? 'inline-block' : 'none'\n                },\n                on: {\n                  click: () => {\n                    this.updateStoreAuditing(params.row.id, params.index)\n                  }\n                }\n              }, params.row.store_status == 1 ?'停用店铺' : '解除停用')\n            ])\n          }\n        }\n      ],\n      data: []\n    }\n  },\n  methods: {\n    handleView (url) {\n      this.imgName = url\n      this.visible = true\n    },\n    handleRemove (file) {\n      const imgUrl = file.url.replace(api_prefix, '')\n      this.$http('file.remove', {\n        files: [imgUrl]\n      }).then(rs => {\n        if (rs.error == 0) {\n          const fileList = this.$refs.upload.fileList\n          this.uploadList.splice(fileList.indexOf(file), 1)\n        }\n      })\n    },\n    handleSuccess (res) {\n      if (res.error == 0) {\n        this.uploadList.push({\n          name: res.data['source_name'],\n          url: `${api_prefix}/${res.data['path']}`,\n          status: 'finished'\n        })\n      }\n    },\n    handleFormatError (file) {\n      this.$Notice.warning({\n        title: 'The file format is incorrect',\n        desc: 'File format of ' + file.name + ' is incorrect, please select jpg or png.'\n      });\n    },\n    handleMaxSize (file) {\n      this.$Notice.warning({\n        title: 'Exceeding file size limit',\n        desc: 'File  ' + file.name + ' is too large, no more than 2M.'\n      });\n    },\n    handleBeforeUpload () {\n      const check = this.uploadList.length < 5;\n      if (!check) {\n        this.$Notice.warning({\n          title: 'Up to five pictures can be uploaded.'\n        });\n      }\n      return check;\n    },\n    /**\n     * 执行审核店铺\n     * @param storeId 店铺id\n     * @param index 数据index\n     * @param type 审核动作\n     */\n    toExamineStore (storeId, index, type) {\n      let data = {\n        pass: type,\n        reason: this.form.reason\n      }\n      this.$http(`store.shenhe-${storeId}`, data).then(() => {\n        this.data[index].store_status = type\n      })\n    },\n    /**\n     * 店铺启用、停用状态切换\n     * @param storeId 店铺id\n     * @param index 数据index\n     */\n    updateStoreAuditing (storeId, index) {\n      this.$http(`store.auditing-${storeId}`).then(() => {\n        const storeStatus = this.data[index].store_status\n        this.data[index].store_status = storeStatus == 1 ? 2 : 1\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.demo-upload-list{\n  display: inline-block;\n  width: 60px;\n  height: 60px;\n  text-align: center;\n  line-height: 60px;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  overflow: hidden;\n  background: #fff;\n  position: relative;\n  box-shadow: 0 1px 1px rgba(0,0,0,.2);\n  margin-right: 4px;\n}\n.demo-upload-list img{\n  width: 100%;\n  height: 100%;\n}\n.demo-upload-list-cover{\n  display: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0,0,0,.6);\n}\n.demo-upload-list:hover .demo-upload-list-cover{\n  display: block;\n}\n.demo-upload-list-cover i{\n  color: #fff;\n  font-size: 20px;\n  cursor: pointer;\n  margin: 0 2px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/store/storeList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',{attrs:{\"title\":\"店铺列表\"}},[_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":_vm.data}}),_vm._v(\" \"),_c('Modal',{attrs:{\"mask-closable\":false,\"title\":\"输入审核不通过的理由\"},on:{\"on-ok\":function($event){_vm.toExamineStore(_vm.currentId, _vm.currentIndex, -1)}},model:{value:(_vm.showExampleModal),callback:function ($$v) {_vm.showExampleModal=$$v},expression:\"showExampleModal\"}},[_c('Form',{ref:\"formInline\",attrs:{\"model\":_vm.form,\"label-width\":80}},[_c('FormItem',{attrs:{\"prop\":\"reason\",\"label\":\"拒绝理由\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 5},\"placeholder\":_vm.form.reason},model:{value:(_vm.form.reason),callback:function ($$v) {_vm.$set(_vm.form, \"reason\", $$v)},expression:\"form.reason\"}})],1)],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"查看店铺详情\",\"mask-closable\":false,\"width\":\"80\"},model:{value:(_vm.showItemModal),callback:function ($$v) {_vm.showItemModal=$$v},expression:\"showItemModal\"}},[_c('Form',{attrs:{\"label-width\":90},model:{value:(_vm.itemForm),callback:function ($$v) {_vm.itemForm=$$v},expression:\"itemForm\"}},[_c('FormItem',{attrs:{\"prop\":\"store_name\",\"label\":\"店铺名称\"}},[_c('Input',{attrs:{\"placeholder\":\"输入店铺名称\"},model:{value:(_vm.itemForm.store_name),callback:function ($$v) {_vm.$set(_vm.itemForm, \"store_name\", $$v)},expression:\"itemForm.store_name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"store_name\",\"label\":\"负责人姓名\"}},[_c('Input',{attrs:{\"placeholder\":\"服务人姓名\"},model:{value:(_vm.itemForm.store_director),callback:function ($$v) {_vm.$set(_vm.itemForm, \"store_director\", $$v)},expression:\"itemForm.store_director\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"store_name\",\"label\":\"负责人电话\"}},[_c('Input',{attrs:{\"placeholder\":\"负责人联系电话\"},model:{value:(_vm.itemForm.store_phone),callback:function ($$v) {_vm.$set(_vm.itemForm, \"store_phone\", $$v)},expression:\"itemForm.store_phone\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"store_name\",\"label\":\"店铺详细地址\"}},[_c('Input',{attrs:{\"placeholder\":\"店铺详细地址\"},model:{value:(_vm.itemForm.store_address),callback:function ($$v) {_vm.$set(_vm.itemForm, \"store_address\", $$v)},expression:\"itemForm.store_address\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"store_name\",\"label\":\"店铺图片\"}},[_vm._l((_vm.uploadList),function(item){return _c('div',{staticClass:\"demo-upload-list\"},[(item.status == 'finished')?[_c('img',{attrs:{\"src\":item.url}}),_vm._v(\" \"),_c('div',{staticClass:\"demo-upload-list-cover\"},[_c('Icon',{attrs:{\"type\":\"ios-eye-outline\"},nativeOn:{\"click\":function($event){_vm.handleView(item.url)}}}),_vm._v(\" \"),_c('Icon',{attrs:{\"type\":\"ios-trash-outline\"},nativeOn:{\"click\":function($event){_vm.handleRemove(item)}}})],1)]:[(item.showProgress)?_c('Progress',{attrs:{\"percent\":item.percentage,\"hide-info\":\"\"}}):_vm._e()]],2)}),_vm._v(\" \"),_c('Upload',{ref:\"upload\",staticStyle:{\"display\":\"inline-block\",\"width\":\"58px\"},attrs:{\"show-upload-list\":false,\"on-success\":_vm.handleSuccess,\"format\":['jpg','jpeg','png'],\"max-size\":2048,\"default-file-list\":_vm.defaultFileList,\"on-format-error\":_vm.handleFormatError,\"on-exceeded-size\":_vm.handleMaxSize,\"before-upload\":_vm.handleBeforeUpload,\"multiple\":\"\",\"name\":\"image\",\"type\":\"drag\",\"action\":_vm.uploadAction}},[_c('div',{staticStyle:{\"width\":\"58px\",\"height\":\"58px\",\"line-height\":\"58px\"}},[_c('Icon',{attrs:{\"type\":\"ios-camera\",\"size\":\"20\"}})],1)])],2)],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"View Image\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[(_vm.visible)?_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.imgName}}):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5619972a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/store/storeList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5619972a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./storeList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./storeList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./storeList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5619972a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./storeList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5619972a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/store/storeList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}