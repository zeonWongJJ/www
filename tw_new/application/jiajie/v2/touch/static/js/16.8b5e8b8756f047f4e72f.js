webpackJsonp([16],{"/3yx":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKEAAAChCAMAAACYjy+EAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkFBMkM5REI5REMxQjExRTg4MkMxOEYwQzZDMjBERUI3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkFBMkM5REJBREMxQjExRTg4MkMxOEYwQzZDMjBERUI3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QUEyQzlEQjdEQzFCMTFFODgyQzE4RjBDNkMyMERFQjciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUEyQzlEQjhEQzFCMTFFODgyQzE4RjBDNkMyMERFQjciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz404fZqAAAAw1BMVEXDw8Pg4ODU1NTMzMzHx8e1tbXt7e3Y2Ni2trbp6enk5OS/v7+6urq9vb3c3Ny8vLzLy8vPz8+0tLS+vr7Kysru7u7R0dG7u7uzs7Pn5+fw8PDs7Ozv7+/CwsLBwcHS0tLGxsbb29vh4eHo6Oi4uLjExMTa2trZ2dnX19fe3t7Jycm5ubnFxcXNzc3l5eXW1tbAwMDj4+Pi4uLIyMjq6urV1dXm5ua3t7fOzs7r6+vQ0NDf39/T09Pd3d2ysrLx8fEAAABXEzgIAAAAQXRSTlP/////////////////////////////////////////////////////////////////////////////////////ADBV7McAAASMSURBVHja7NvZdps8EABgUIgklrDYTuJsdrMnzdq9/Zch7/9URWwWIHwaUwtdzNz0eEyjz0ISkgDrzfSw3lLDA4UoRCEKUYhCFKIQhShEIQpRiEIUohCFKBxVeH4W7bViGn83R3jqgCrmxBjhGfQEMUTIoDeOzBBe9Qt3jBDe9wOBH5sgtNYIITRA+LwOCGejCW9mi+gwymKPrxVClMfh9MN/rk7h5ym8P+YH+oQhbBaOLuEzbBpPmoTTjYXgaRF+2hwIH7UIlwOEgRbhbIBwV4vwQz9g7zEhy9nZpPeAiRah01f600V5xOXddNQ67BHOLuWDXibGCW9bR136hgn/r77dr+ZbpwujhOflgurLNIiul18L66FBwmIqfb9X9ZlijvDdHGExk/4mZRb7IrNjjHDZnfBci9TJxBDh/JdCw5SD+0jChcgmreSP0yx5a4gwyZLHnY57n2WPDBF+E5Z5Oyv6M901QyhWnBfKqeD+gxnCm37hlRnCparF5We5M9yMJJyJbNTO/qtaMIwkjET2oJV8EKMNMeWaIlZwJ7uKEfvVFOGXnqueZ87cJt/IfJE3lMQ5ThfmCF/zL+xqWj1J8s+3Js1gy73W89n0KrgmxYrleW7UKiDpbk1ww1ZSDm1tMM6NW40+3Ep71t6jgetlgMN/bDH5Pz66ezR2VwR49Opfjb5v4wzYWdKzb7Nj/N7XywDhVIvQHSA80CIcsMW5e6JHqNqQ+bPY5B7aRvdT3Ggz4J22Oz4pfeLv91kXqT5hmn69OYh3/jzin3efNysIn2ZBIQpRiEIUohCFKEQhClGoPAhs5ZIvLtPEYu8okpH6SUSA7QoJ+MrvLXUo/tq2hQGUVcehsQHbsxrVL7SBU8/OgkFgl0GLcosPIbFXMYbQgqTzHLEtl0uAyRWrXZjVipsmooFx8Ku25knlegCkCHccoVU/9d9qhmW51G/UrH4hgSrpgZV2ha4PQQ73eP6vLFTs6QwWrtp8OZa5vBYm7VcoBCbkYIHv5lI71SDsvNDh5ydP/b5Hhsl+AEkZcJZJWX9P+YvXlLorlFePGAJRNyLhA5eGZVbVoegzXgDA7VSLsPU3Q+BelSSd92RKDGV53fuMjiD0IKyTQasnFxibZDweu27MgTvM1S1MWZ30IE67QvGMlcPySwwlWZv1JWEA8rXG3uZ4aBct0iF11J2CkjAfsovZj0vkOuy5XG9LSHl30KhLDeMs1e4pNMutQoNQOl9OeR9cKtWNq3cB6qTdeLB9+0K5bYJPpVLDMP/kshaFNF4C0SnMxmdXKlWc/iBmtENxGqOTBiHlRW8g2RDZKNVjcSCGw3LOX1GomBJpFWaXNbAYdSDwuqW6RNyM9uWZA6uWDhrPMgvybkzVpVLmBHIyAPbXhKtO6qvGWIltZ4OGb0ul2t0oKaT1isogYe8NOkXFinqsn2dZ89+89v3RQULLWrusbJ56SlaTvMaQ3ByaPZ6k6RbaoTISq/lalud79U9T/t7il6jTuG+DQhSiEIUoRCEKUYhCFKIQhShEIQpRiEIUovD98fZbgAEA9oAbFVTYFeQAAAAASUVORK5CYII="},fAc4:function(t,e){},qAC9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("i4aD"),i=a("ZLiS"),d=a("9qR2"),n=a("66f8"),c=a("P9l9"),o={components:{Protocol:s.a,Category:i.a,orderConfirmation:d.a,editAddress:n.a},data:function(){return{categorySelect:!1,category:0,categoryType:{},message:"",canReservation:!1,uploadList:[],address:{},lal:[],price:"",show:!1,uploadFileUrl:c.a.uploadFileUrl+"/",orderData:{},addShow:!1,addslists:[],addressShow:!1}},watch:{message:function(t){this.canReservation=this.checkReservation()},address:function(t){this.canReservation=this.checkReservation()},price:function(t){this.canReservation=this.checkReservation()},addShow:function(t){this.init()}},mounted:function(){this.init()},methods:{init:function(){var t=this,e={row:500};this.$fetch("user_address_list",e).then(function(e){t.addslists=e,t.addslists.length>0&&(t.address=t.addslists.reverse()[0])})},onClickLeft:function(){this.$router.back(-1)},checkReservation:function(t){return this.category?0===this.message.length?(t&&this.$toast("请填写服务内容"),!1):this.address.contact_name?!(!this.price||this.price<=0)||(t&&this.$toast("请填写您愿意支付的服务报酬金额"),!1):(t&&this.$toast("请添加您的家庭地址"),!1):(t&&this.$toast("请选择服务分类"),!1)},finishCategory:function(t){this.categoryType=t,this.category=t.id,this.canReservation=this.checkReservation()},release:function(){this.canReservation?(this.show=!0,this.orderData={},this.orderData.demand_cate_id=this.category,this.orderData.demand_remuneration=this.price,this.orderData.demand_info=this.message,this.orderData.demand_img=this.uploadList,this.orderData.demand_contact_name=this.address.contact_name,this.orderData.demand_gender=this.address.contact_gender,this.orderData.demand_telephone=this.address.telephone_number,this.orderData.demand_address_name=this.address.contact_address_name,this.orderData.demand_house_number=this.address.contact_house_number,this.orderData.demand_lal=this.address.contact_lal):this.checkReservation(!0)},onaddShow:function(){this.addressShow=!1,this.addShow=!0},beforeRead:function(){return!(this.uploadList.length>=8)||(this.$toast("最多上传8张图片"),!1)},onRead:function(t){var e=this;if(t.length)t.forEach(function(t){e.uploadList.length>=8?e.$toast("最多上传8张图片"):e.$fetch("uploadBase",a).then(function(t){e.uploadList.push(t.path),e.$toast("上传成功")})});else{var a={};a.img=t.content,this.$fetch("uploadBase",a).then(function(t){e.uploadList.push(t.path),e.$toast("上传成功")})}},deleteImg:function(t){var e=this,a={};a.file=this.uploadList[t],this.uploadList.splice(t,1),this.$fetch("file_remove",a).then(function(t){e.$toast("已删除")})},indexadd:function(t){this.address=t,this.addressShow=!1}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"releaseDemand"},[s("van-nav-bar",{attrs:{title:"发布需求","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),s("div",{staticClass:"main"},[s("div",{staticClass:"form"},[s("div",{staticClass:"cell flex category",on:{click:function(e){t.categorySelect=!0}}},[s("div",{staticClass:"category_div",class:{black:t.category}},[t._v(t._s(t.category?t.categoryType.cat_name:"请选择服务分类"))]),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"cell message"},[s("van-field",{attrs:{type:"text更换area",placeholder:"请填写您的服务要求",rows:"4",autosize:""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),t._v(" "),s("div",{staticClass:"cell photo"},[s("div",[t._v("请上传您的现场图片")]),t._v(" "),s("div",{staticClass:"upload_box"},[t._l(t.uploadList,function(e,i){return s("div",{staticClass:"upload_img"},[s("div",{staticClass:"delete",on:{click:function(e){t.deleteImg(i)}}},[s("img",{attrs:{src:a("vmxF")}})]),t._v(" "),s("img",{attrs:{src:t.uploadFileUrl+e}})])}),t._v(" "),s("van-uploader",{attrs:{"after-read":t.onRead,"before-read":t.beforeRead,accept:"image/gif, image/jpeg",multiple:""}},[s("div",{staticClass:"upload_icon"},[s("img",{attrs:{src:a("/3yx")}})])])],2)]),t._v(" "),s("div",{staticClass:"cell flex padding",on:{click:function(e){t.addressShow=!0}}},[s("div",{staticClass:"input"},[t.address.contact_name?[s("div",[t._v(t._s(t.address.contact_address_name))]),t._v(" "),s("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.address.contact_name)+"\n\t\t\t\t\t\t\t\t"+t._s(1==t.address.contact_gender?"先生":2==t.address.contact_gender?"女士":"")+"\n\t\t\t\t\t\t\t\t"+t._s("  "+t.address.telephone_number)+"\n\t\t\t\t\t\t\t")])]:s("div",{staticClass:"gray"},[t._v("请添加您的家庭地址")])],2),t._v(" "),s("div",{staticClass:"blue"},[t._v(t._s(t.address.contact_name?"更换":"+地址簿"))])]),t._v(" "),s("div",{staticClass:"cell flex padding"},[t._v("\n\t\t\t\t\t"+t._s(t.price?"￥":"")+"\n\t\t\t\t\t"),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price,expression:"price",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"请填写您愿意支付的服务报酬金额"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"protocol"},[s("Protocol",{attrs:{showTip:"3"}})],1),t._v(" "),s("van-button",{staticClass:"release",class:{canReservation:t.canReservation},attrs:{round:"",size:"large"},on:{click:t.release}},[t._v("发布")])],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.addressShow,expression:"addressShow"}],staticClass:"addsa",on:{click:function(e){t.addressShow=!1}}},[s("div",{staticClass:"addsa_div"},[s("ul",[t._l(t.addslists,function(e,a){return s("li",{on:{click:function(s){t.indexadd(e,a)}}},[s("div",{staticClass:"addsri"},[s("div",{staticClass:"lrm"},[s("div",[t._v("\n\t                    联系人："+t._s(e.contact_name)+t._s(1==e.contact_gender?"先生":2==e.contact_gender?"女士":"")+"\n\t                  ")]),t._v(" "),s("div",[t._v("\n\t                    "+t._s(e.telephone_number)+"\n\t                  ")])]),t._v(" "),s("div",{staticClass:"addcor"},[t._v("\n\t                  联系地址："+t._s(e.contact_address_name)+"\n\t                ")])])])}),t._v(" "),s("li",{staticStyle:{padding:"0","border-bottom":"none"}},[s("div",{staticStyle:{width:"60%",padding:"0.08rem 0","border-radius":"0.4rem",margin:"0.1rem auto",background:"#18b4ed",color:"white","text-align":"center","font-size":".14rem"},on:{click:function(e){e.stopPropagation(),t.onaddShow()}}},[t._v("\n\t                添加新地址\n\t              ")])])],2)])]),t._v(" "),s("Category",{attrs:{category:t.category},on:{select:t.finishCategory},model:{value:t.categorySelect,callback:function(e){t.categorySelect=e},expression:"categorySelect"}}),t._v(" "),s("orderConfirmation",{attrs:{orderData:t.orderData,orderType:1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}),t._v(" "),s("editAddress",{attrs:{addData:{}},model:{value:t.addShow,callback:function(e){t.addShow=e},expression:"addShow"}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"more"},[e("img",{attrs:{src:a("4+Yf")}})])}]};var l=a("VU/8")(o,r,!1,function(t){a("fAc4")},"data-v-711a1ddc",null);e.default=l.exports},vmxF:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxMDQ1ZDU5Mi04OTVhLTcxNDQtOTBmMC0xMDViOGQ4MzU4YzIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkRENjFFRUU4OTYzMTFFOEE2MjNENTc1RTIwNDZGMDEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkRENjFFRUQ4OTYzMTFFOEE2MjNENTc1RTIwNDZGMDEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzdmNDU2YTItYjdlYy00NjQzLWI4NjMtYTdhYTI0ODBiYTM5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjEwNDVkNTkyLTg5NWEtNzE0NC05MGYwLTEwNWI4ZDgzNThjMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkrvjVkAAACfUExURRi07f///930/DG874LW9YPX9Rm07R227fz+/67l+eH1/Sm67ju/8E3F8ez5/h217cHr+uv5/WrP8zzA8ErE8aDg+Pb8/nTS9Da+70PC8ETC8MDr+uD1/fj9/p/g+KHg+GnO8y2770XD8XPR9EzF8UjE8ZDb9ii57jC870bD8f3+/z3A8OH1/Pf8/ur4/XHR9GrO8y+7763l+XDR9P////VZxz0AAAA1dFJOU/////////////////////////////////////////////////////////////////////8AfLXQCgAAATdJREFUeNqUlFdigzAQRIfYVNFdAfeSxOmF+58tshVAWgnHmR8k8WBhy6CWFKzzHXNdtsvXgXyOduX5kYNWTuR7OpSOQDRKCbScwaDZUobiI4w6xh0Uh+hRGDfQdIxejae/0B5XtBdQKnbzLbmdiEt6hp6eL2s3uxsozPBtLjLhcchvDi2F4ttHsfI5FDXHtkxJj0Q1gq4WEiW/1llgIoVoKTX0BDl0inxejgIaRRiUYKDUPWHwABeUsl5UhiMUGlpWoEGMMqZwBWUGala5CnxoDCiVK8ls/90myVw4pnrZalm6Ais5tNsmOBe4r1U49dm1iicGLqFNZ2dS0/3VvpUYhO9rg/D+n5G6aTjrOjuZmVMmG8brDYbBVWkhw8pkYgfJxHD4MpjYxQ5Xm5IlCSs3K8UOfwQYAAt0OjnpoY6XAAAAAElFTkSuQmCC"}});