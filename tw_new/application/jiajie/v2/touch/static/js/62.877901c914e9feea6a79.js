webpackJsonp([62],{"4hj+":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("P9l9");var d=e("c7SY"),i=e("NxGh"),s={components:{mapDrag:d.a,loading:i.a},data:function(){return{onshows:!1,x_add:"",x_addedit:"",num:"",datas:{name_in:"",mobile_in:"",nvn:[{name:"先生",type:1},{name:"女士",type:2}]},items:null,upid:"",dragData:{lng:null,lat:null,address:null,nearestJunction:null,nearestRoad:null,nearestPOI:null,addst:null,addstedit:null},adds:!1}},mounted:function(){this.getadd()},created:function(){},methods:{butform:function(){var t=this;if(!t.onshows){t.onshows=!0;var a={},e=t.dragData.lng+","+t.dragData.lat,d=t.num+1;a.contact_name=t.datas.name_in,a.telephone_number=t.datas.mobile_in,a.contact_gender=d,a.contact_lal=e,t.$route.query.items?(a.contact_address_name=t.x_addedit,a.contact_house_number=t.x_add,t.$fetch("user_address_update",a,t.upid).then(function(a){t.$toast("修改成功"),t.onClickLeft()}).catch(function(a){t.onshows=!1})):(a.contact_address_name=t.dragData.addstedit,a.contact_house_number=t.dragData.addst,t.$fetch("user_address_add",a).then(function(a){t.$toast("添加成功"),t.onClickLeft()}).catch(function(){t.onshows=!1}))}},getadd:function(){this.$route.query.items&&(this.items=JSON.parse(this.$route.query.items),this.x_add=this.items.contact_house_number,this.x_addedit=this.items.contact_address_name,this.upid=this.items.id,this.datas.name_in=this.items.contact_name,this.datas.mobile_in=this.items.telephone_number,this.dragData.addst=this.items.contact_house_number,this.dragData.addst=this.items.contact_gender,this.dragData.addst=this.items.contact_house_number,this.num=this.items.contact_gender-1)},onClickLeft:function(){this.$router.back(-1)},onClickRight:function(){var t=this;t.$fetch("user_address_delete",{},t.upid).then(function(a){t.$toast("删除成功"),setTimeout(function(){t.$router.push({path:"/receadd"})},1e3)})},onClickLeft2:function(){this.adds=!1},Receadd:function(){this.adds=!0},init:function(t){},dragMap:function(t){this.dragData={lng:t.position.lng,lat:t.position.lat,address:t.address,nearestJunction:t.nearestJunction,nearestRoad:t.nearestRoad,nearestPOI:t.nearestPOI,addst:t.regeocode.addressComponent.province+t.regeocode.addressComponent.city+t.regeocode.addressComponent.district,addstedit:t.regeocode.addressComponent.township+t.regeocode.addressComponent.street+t.regeocode.addressComponent.streetNumber}},addbuts:function(){this.x_add=this.dragData.addst,this.x_addedit=this.dragData.addstedit,this.adds=!1},butadd:function(t,a){this.num=a,this.iname=t}}},n={render:function(){var t=this,a=t.$createElement,d=t._self._c||a;return d("div",[this.items?d("div",{staticClass:"white"},[d("van-nav-bar",{attrs:{title:"编辑地址","left-arrow":"","right-text":"删除"},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}})],1):d("div",{staticClass:"white"},[d("van-nav-bar",{attrs:{title:"新增地址","left-arrow":""},on:{"click-left":t.onClickLeft}})],1),t._v(" "),d("div",{staticClass:"box_del"},[d("div",{staticClass:"com_box"},[d("form",{attrs:{name:"input",action:"",method:"get"}},[d("div",{staticClass:"contact"},[d("div",[t._v("联系人")]),t._v(" "),d("div",{staticClass:"contact_2"},[d("div",[d("input",{directives:[{name:"model",rawName:"v-model",value:t.datas.name_in,expression:"datas.name_in"}],attrs:{type:"text",id:"name_in",placeholder:"姓名"},domProps:{value:t.datas.name_in},on:{input:function(a){a.target.composing||t.$set(t.datas,"name_in",a.target.value)}}})]),t._v(" "),d("div",{staticClass:"contact_2_but"},t._l(t.datas.nvn,function(a,e){return d("button",{staticClass:"but_n b1",class:{button_colc:e==t.num},attrs:{type:"button"},on:{click:function(d){t.butadd(a,e)}}},[t._v(t._s(a.name))])}))])]),t._v(" "),d("div",{staticClass:"ul_div"},[this.items?d("ul",[d("li",{staticClass:"li_add"},[d("div",[t._v("电话")]),t._v(" "),d("div",[d("input",{directives:[{name:"model",rawName:"v-model",value:t.datas.mobile_in,expression:"datas.mobile_in"}],attrs:{type:"text",id:"mobile_in",placeholder:"手机号码"},domProps:{value:t.datas.mobile_in},on:{input:function(a){a.target.composing||t.$set(t.datas,"mobile_in",a.target.value)}}})])]),t._v(" "),d("li",{staticClass:"li_add"},[d("div",[t._v("地址")]),t._v(" "),d("div",{on:{click:function(a){t.Receadd()}}},[d("input",{directives:[{name:"model",rawName:"v-model",value:t.x_add,expression:"x_add"}],attrs:{type:"text",disabled:"disabled",id:"add_in",placeholder:"定位"},domProps:{value:t.x_add},on:{input:function(a){a.target.composing||(t.x_add=a.target.value)}}})]),t._v(" "),d("div",{on:{click:function(a){t.Receadd()}}},[d("img",{attrs:{src:e("iVGT")}})])]),t._v(" "),d("li",{staticClass:"li_add"},[d("div",[t._v("门牌号")]),t._v(" "),d("div",[d("input",{directives:[{name:"model",rawName:"v-model",value:t.x_addedit,expression:"x_addedit"}],attrs:{type:"text",name:"",id:"add_door",placeholder:"16栋6号"},domProps:{value:t.x_addedit},on:{input:function(a){a.target.composing||(t.x_addedit=a.target.value)}}})])])]):d("ul",[d("li",{staticClass:"li_add"},[d("div",[t._v("电话")]),t._v(" "),d("div",[d("input",{directives:[{name:"model",rawName:"v-model",value:t.datas.mobile_in,expression:"datas.mobile_in"}],attrs:{type:"text",id:"mobile_in",placeholder:"手机号码"},domProps:{value:t.datas.mobile_in},on:{input:function(a){a.target.composing||t.$set(t.datas,"mobile_in",a.target.value)}}})])]),t._v(" "),d("li",{staticClass:"li_add"},[d("div",[t._v("地址")]),t._v(" "),d("div",{on:{click:function(a){t.Receadd()}}},[d("input",{directives:[{name:"model",rawName:"v-model",value:t.dragData.addst,expression:"dragData.addst"}],attrs:{type:"text",disabled:"disabled",id:"add_in",placeholder:"定位"},domProps:{value:t.dragData.addst},on:{input:function(a){a.target.composing||t.$set(t.dragData,"addst",a.target.value)}}})]),t._v(" "),d("div",{on:{click:function(a){t.Receadd()}}},[d("img",{attrs:{src:e("iVGT")}})])]),t._v(" "),d("li",{staticClass:"li_add"},[d("div",[t._v("门牌号")]),t._v(" "),d("div",[d("input",{directives:[{name:"model",rawName:"v-model",value:t.dragData.addstedit,expression:"dragData.addstedit"}],attrs:{type:"text",name:"",id:"add_door",placeholder:"16栋6号"},domProps:{value:t.dragData.addstedit},on:{input:function(a){a.target.composing||t.$set(t.dragData,"addstedit",a.target.value)}}})])])])])])]),t._v(" "),d("div",{staticClass:"but"},[this.items?d("button",{attrs:{type:"button"},on:{click:t.butform}},[t._v("确定修改")]):d("button",{attrs:{type:"button"},on:{click:t.butform}},[t._v("保存并使用")])])]),t._v(" "),d("div",{directives:[{name:"show",rawName:"v-show",value:t.adds,expression:"adds"}],staticClass:"addsr"},[d("van-nav-bar",{attrs:{title:"标题","left-arrow":""},on:{"click-left":t.onClickLeft2}}),t._v(" "),d("div",{staticClass:"g-wraper"},[d("div",{staticClass:"m-part"},[d("mapDrag",{staticClass:"mapbox",attrs:{lat:t.dragData.lat,lng:t.dragData.lng},on:{drag:t.dragMap,inits:t.init}})],1),t._v(" "),d("div",{staticClass:"addss"},[t._v("\n\t\t\t\t"+t._s(t.dragData.address)+"\n\t\t\t")]),t._v(" "),d("div",{staticClass:"addbut"},[d("button",{on:{click:t.addbuts}},[t._v("确 定")])])])],1),t._v(" "),d("loading",{attrs:{show:t.onshows}})],1)},staticRenderFns:[]};var o=e("VU/8")(s,n,!1,function(t){e("Kfu9")},"data-v-2ba2afce",null);a.default=o.exports},Kfu9:function(t,a){}});