webpackJsonp([11],{"8B2t":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={name:"serviceIndex",data:function(){var t=this;return{columns:[{type:"selection",key:"id",width:60,align:"center"},{title:"服务名称",key:"service_name"},{title:"所属店铺",key:"store_name"},{title:"价格",key:"service_remuneration"},{title:"上架",render:function(t,e){return t("div",[t("i-switch",{props:{size:"large",value:Boolean(e.row.service_status)},on:{click:function(){}}},[t("span",{slot:"open"},"下架"),t("span",{slot:"close"},"上架")])])}},{title:"推荐排序",key:"service_order"},{title:"操作",key:"_action",width:200,render:function(e,i){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$router.push({name:"chargeStrategy",query:{id:i.row.id}})}}},"收费策略"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$router.push({name:"serviceUpdate",query:{id:i.row.id}})}}},"修改"),e("Button",{props:{type:"warning",size:"small"}},"删除")])}}],serviceData:[],total:0,current:0}},mounted:function(){this.getServiceList()},methods:{getServiceList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$http("service.list",{rows:30,page:e}).then(function(e){t.serviceData=e.data,t.total=e.count,t.current=e.append.page.current})},onTrashService:function(){var t=this,e=[];this.$refs.serviceList.getSelection().forEach(function(t){e.push(t.id)}),this.$http("service.delete",{id:e,soft_delete:1}).then(function(){t.getServiceList(t.current)})},changePage:function(t){this.current=t,this.getServiceList(this.current)}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Card",{attrs:{title:"服务列表"}},[i("Button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",icon:"md-add"},on:{click:function(e){t.$router.push({name:"serviceInsert"})}}},[t._v("添加新服务")]),t._v(" "),i("Button",{staticStyle:{"margin-bottom":"10px","margin-left":"5px"},attrs:{size:"small",type:"warning",icon:"md-trash"},on:{click:t.onTrashService}},[t._v("删除")]),t._v(" "),i("Table",{ref:"serviceList",attrs:{columns:t.columns,data:t.serviceData}}),t._v(" "),i("div",{staticStyle:{margin:"10px 0 80px 0",overflow:"hidden"}},[i("div",{staticStyle:{float:"right"}},[i("Page",{attrs:{"page-size":30,"show-sizer":"",size:"small",total:t.total,current:t.current,"show-total":""},on:{"on-change":t.changePage}})],1)])],1)],1)},staticRenderFns:[]};var s=i("VU/8")(r,n,!1,function(t){i("b7zd")},"data-v-59fc438e",null);e.default=s.exports},b7zd:function(t,e){}});
//# sourceMappingURL=11.d2bdfdc9f3a6fadad357.js.map