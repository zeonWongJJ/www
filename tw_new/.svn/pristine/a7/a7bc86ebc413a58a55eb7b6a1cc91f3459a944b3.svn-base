{"version":3,"sources":["webpack:///src/view/service/index.vue","webpack:///./src/view/service/index.vue?bc39","webpack:///./src/view/service/index.vue"],"names":["service","name","data","_this","this","columns","type","key","width","align","title","render","h","params","props","size","value","Boolean","row","service_status","on","click","slot","style","marginRight","$router","push","query","id","serviceData","total","current","mounted","getServiceList","methods","_this2","page","arguments","length","undefined","$http","rows","then","rs","count","append","onTrashService","_this3","items","$refs","getSelection","forEach","item","soft_delete","changePage","view_service","_vm","_h","$createElement","_c","_self","attrs","staticStyle","margin-bottom","icon","$event","_v","margin-left","ref","margin","overflow","float","page-size","show-sizer","show-total","on-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.d2bdfdc9f3a6fadad357.js","sourcesContent":["<template>\n  <div>\n    <Card title=\"服务列表\">\n      <Button size=\"small\" type=\"primary\" icon=\"md-add\" style=\"margin-bottom: 10px;\" @click=\"$router.push({name: 'serviceInsert'})\">添加新服务</Button>\n      <Button size=\"small\" type=\"warning\" icon=\"md-trash\" style=\"margin-bottom: 10px; margin-left: 5px;\" @click=\"onTrashService\">删除</Button>\n      <Table :columns=\"columns\" :data=\"serviceData\" ref=\"serviceList\"></Table>\n      <div style=\"margin: 10px 0 80px 0;overflow: hidden\">\n        <div style=\"float: right;\">\n          <Page :page-size=\"30\" show-sizer size=\"small\" :total=\"total\" :current=\"current\" @on-change=\"changePage\" show-total></Page>\n        </div>\n      </div>\n    </Card>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'serviceIndex',\n  data () {\n    return {\n      columns: [\n        {\n          type: 'selection',\n          key: 'id',\n          width: 60,\n          align: 'center'\n        },\n        {\n          title: '服务名称',\n          key: 'service_name'\n        },\n        {\n          title: '所属店铺',\n          key: 'store_name'\n        },\n        /*{\n          title: '货号',\n          key: 'id'\n        },*/\n        {\n          title: '价格',\n          key: 'service_remuneration'\n        },\n        {\n          title: '上架',\n          render: (h, params) => {\n            return h('div', [\n              h('i-switch', {\n                props: {\n                  size: 'large',\n                  value: Boolean(params.row.service_status)\n                },\n                on: {\n                  click: () => {\n                    // this.show(params.index)\n                  }\n                }\n              }, [\n                h('span', {\n                  slot: 'open'\n                }, '下架'),\n                h('span', {\n                  slot: 'close'\n                }, '上架')\n              ])\n            ])\n          }\n        },\n        {\n          title: '推荐排序',\n          key: 'service_order'\n        },\n        {\n          title: '操作',\n          key: '_action',\n          width: 200,\n          render: (h, params) => {\n            return h('div', [\n              h('Button', {\n                props: {\n                  type: 'primary',\n                  size: 'small'\n                },\n                style: {\n                  marginRight: '5px'\n                },\n                on: {\n                  click: () => {\n                    this.$router.push({\n                      name: 'chargeStrategy',\n                      query: {\n                        id: params.row.id\n                      }\n                    })\n                  }\n                }\n              }, '收费策略'),\n              h('Button', {\n                props: {\n                  type: 'primary',\n                  size: 'small'\n                },\n                style: {\n                  marginRight: '5px'\n                },\n                on: {\n                  click: () => {\n                    this.$router.push({\n                      name: 'serviceUpdate',\n                      query: {\n                        id: params.row.id\n                      }\n                    })\n                  }\n                }\n              }, '修改'),\n              h('Button', {\n                props: {\n                  type: 'warning',\n                  size: 'small'\n                }\n              }, '删除')\n            ])\n          }\n        }\n      ],\n      serviceData: [],\n      total: 0,\n      current: 0\n    }\n  },\n  mounted () {\n    this.getServiceList()\n  },\n  methods: {\n    getServiceList (page = 1) {\n      this.$http('service.list', {\n        rows: 30,\n        page\n      }).then(rs => {\n        this.serviceData = rs.data\n        this.total = rs.count\n        this.current = rs.append.page.current\n      })\n    },\n    /**\n     * 执行删除\n     */\n    onTrashService () {\n      const selectionItems = this.$refs['serviceList'].getSelection()\n      let items = []\n      selectionItems.forEach(item => {\n        items.push(item.id)\n      })\n      this.$http('service.delete', {\n        id: items,\n        soft_delete: 1 // 软删除\n      }).then(() => {\n        this.getServiceList(this.current)\n      })\n    },\n    changePage (page) {\n      this.current = page\n      this.getServiceList(this.current)\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/service/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Card',{attrs:{\"title\":\"服务列表\"}},[_c('Button',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"md-add\"},on:{\"click\":function($event){_vm.$router.push({name: 'serviceInsert'})}}},[_vm._v(\"添加新服务\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-bottom\":\"10px\",\"margin-left\":\"5px\"},attrs:{\"size\":\"small\",\"type\":\"warning\",\"icon\":\"md-trash\"},on:{\"click\":_vm.onTrashService}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('Table',{ref:\"serviceList\",attrs:{\"columns\":_vm.columns,\"data\":_vm.serviceData}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px 0 80px 0\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"page-size\":30,\"show-sizer\":\"\",\"size\":\"small\",\"total\":_vm.total,\"current\":_vm.current,\"show-total\":\"\"},on:{\"on-change\":_vm.changePage}})],1)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-59fc438e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/service/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-59fc438e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"options\\\":{\\\"javascriptEnabled\\\":true},\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-59fc438e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-59fc438e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/service/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}