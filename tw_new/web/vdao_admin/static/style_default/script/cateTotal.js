/**
 * Created by 7du-29 on 2017/10/20.
 */
$(function(){
    // var headInput=$(".cateHead>a.c1>input");
    // var headLabel=$(".cateHead>a.c1>label");
    // var bottomInput=$("#bottomSelect");
    // var bottomLabel=$(".bottomAllSelect>label");
    // var cateBodyAInput=$(".cateBodyA>a.c1>input");
    // var cateBodyALabel=$(".cateBodyA>a.c1>label");
    // var cateBodyBInput=$(".cateBodyB>a.c1>input");
    // var cateBodyBLabel=$(".cateBodyB>a.c1>label");
    // var cateBodyCInput=$(".cateBodyC>a.c1>input");
    // var cateBodyCLabel=$(".cateBodyC>a.c1>label");

    //添加Id
    // function addId(ele,eleId){
    //     ele.each(function(i){
    //         $(this).prop("id",eleId+(i+1));
    //         $(this).next().prop("for",eleId+(i+1));
    //     });
    // }
    // addId(cateBodyAInput,"a-");
    // addId(cateBodyBInput,"b-");
    // addId(cateBodyCInput,"c-");

    //全选
   //  function allSelect($this,cateA,cateB,cateC,cateAimg,cateBimg,cateCimg,bottom,bottomImg,img1,img2){
   //      console.log($this.prev());
   //      if( $this.prev().is(":checked") ){
   //          $this.prev().prop("checked",false);
   //          $this.children().attr("src",img2);
   //          cateA.prop("checked",false);
   //          cateB.prop("checked",false);
   //          cateC.prop("checked",false);
   //          cateAimg.attr("src",img2);
   //          cateBimg.attr("src",img2);
   //          cateCimg.attr("src",img2);
   //          bottom.prop("checked",false);
   //          bottomImg.attr("src",img1);
   //      }else{
   //          $this.prev().prop("checked","checked");
   //          $this.children().attr("src",img1);
   //          cateA.prop("checked","checked");
   //          cateB.prop("checked","checked");
   //          cateC.prop("checked","checked");
   //          cateAimg.attr("src",img1);
   //          cateBimg.attr("src",img1);
   //          cateCimg.attr("src",img1);
   //          bottom.prop("checked","checked");
   //          bottomImg.attr("src",img1);
   //      }
   //  }

   //  headLabel.click(function(){
   //      allSelect(
   //          $(this),
   //          $(".cateBodyA>a.c1>input"),
   //          $(".cateBodyB>a.c1>input"),
   //          $(".cateBodyC>a.c1>input"),
   //          $(".cateBodyA>a.c1>label>img"),
   //          $(".cateBodyB>a.c1>label>img"),
   //          $(".cateBodyC>a.c1>label>img"),
   //          $("#bottomSelect"),
   //          $(".bottomAllSelect>label>img"),
   //          "/static/style_default/image/pro_23.png",
   //          "/static/style_default/image/pro_07.png"
   //      )
   //  });
   // // 底部选择
   // function bottomSelect($this,cateA,cateB,cateC,cateAimg,cateBimg,cateCimg,head,headImg,img1,img2){
   //     console.log($this.prev().is(":checked"))
   //     if( $this.prev().is(":checked") ){
   //         $this.prop("checked",false);
   //         $this.children().attr("src",img2);
   //         cateA.prop("checked",false);
   //         cateB.prop("checked",false);
   //         cateC.prop("checked",false);
   //         cateAimg.attr("src",img2);
   //         cateBimg.attr("src",img2);
   //         cateCimg.attr("src",img2);
   //         head.prop("checked",false);
   //         headImg.attr("src",img2);
   //     }else{
   //         $this.prop("checked","checked");
   //         $this.children().attr("src",img1);
   //         cateA.prop("checked","checked");
   //         cateB.prop("checked","checked");
   //         cateC.prop("checked","checked");
   //         cateAimg.attr("src",img1);
   //         cateBimg.attr("src",img1);
   //         cateCimg.attr("src",img1);
   //         head.prop("checked","checked");
   //         headImg.attr("src",img1);
   //     }
   // }
   //  bottomLabel.click(function(){
   //      bottomSelect(
   //          $(this),
   //          $(".cateBodyA>a.c1>input"),
   //          $(".cateBodyB>a.c1>input"),
   //          $(".cateBodyC>a.c1>input"),
   //          $(".cateBodyA>a.c1>label>img"),
   //          $(".cateBodyB>a.c1>label>img"),
   //          $(".cateBodyC>a.c1>label>img"),
   //          $(".cateHead>a.c1>input"),
   //          $(".cateHead>a.c1>label>img"),
   //          "/static/style_default/image/pro_23.png",
   //          "/static/style_default/image/pro_07.png"
   //      )
   //  });

   //  //选择分类
   //  function checkedCate($this,eleLen,eleCheckedLen,eleChief,eleChiefLabel,img1,img2){
   //      var len;
   //      var checkedLen;

   //      len=eleLen.length;
   //      checkedLen=eleCheckedLen.length;
   //      if( $this.prev().is(":checked") ){
   //          checkedLen--;
   //          $this.children().attr("src",img2);
   //      }else{
   //          console.log("已选中");
   //          $this.children().attr("src",img1);
   //          checkedLen++;
   //      }
   //      if( len==checkedLen ){
   //          console.log("相等");
   //          eleChief.prop("checked",true);
   //          eleChiefLabel.attr("src",img1);
   //      }else{
   //          eleChief.prop("checked",false);
   //          eleChiefLabel.attr("src",img2);
   //      }

   //  }

   //  function cateA($this,cateB,cateC,cateBimg,cateCimg,img1,img2){
   //      if( $this.prev().is(":checked") ){
   //          $this.prop("checked",false);
   //          $this.children().attr("src",img2);
   //          cateB.prop("checked",false);
   //          cateBimg.attr("src",img2);
   //          cateC.prop("checked",false);
   //          cateCimg.attr("src",img2);
   //      }else{
   //          $this.prop("checked","checked");
   //          $this.children().attr("src",img1);
   //          cateB.prop("checked","checked");
   //          cateBimg.attr("src",img1);
   //          cateC.prop("checked","checked");
   //          cateCimg.attr("src",img1);
   //      }
   //  }

   //  cateBodyALabel.click(function(){
   //      cateA(
   //          $(this),
   //          $(this).parent().parent().parent().find(".cateB>.cateBodyB>a.c1>input"),
   //          $(this).parent().parent().parent().find(".cateB>.cateC>.cateBodyC>a.c1>input"),
   //          $(this).parent().parent().parent().find(".cateB>.cateBodyB>a.c1>label>img"),
   //          $(this).parent().parent().parent().find(".cateB>.cateC>.cateBodyC>a.c1>label>img"),
   //          "/static/style_default/image/pro_23.png",
   //          "/static/style_default/image/pro_07.png"
   //      )
   //      checkedCate(
   //          $(this),
   //          $(this).parent().parent().parent().parent().find(".cateA>.cateBodyA>a.c1>input"),
   //          $(this).parent().parent().parent().parent().find(".cateA>.cateBodyA>a.c1>input:checkbox:checked"),
   //          $(".cateHead>a.c1>input"),
   //          $(".cateHead>a.c1>label>img"),
   //          "/static/style_default/image/pro_23.png",
   //          "/static/style_default/image/pro_07.png"
   //      );
   //  });

   //  function lenB($this,eleLen,eleCheckedLen,headEle,headEleImg,img1,img2){
   //      var len;
   //      var checkedLen;
   //      len=eleLen.length;
   //      checkedLen=eleCheckedLen.length;
   //      if( $this.prev().is(":checked") ){
   //          checkedLen--;
   //      }else{
   //          checkedLen++;
   //      }
   //      if( checkedLen!=len ){
   //          headEle.prop("checked",false);
   //          headEleImg.attr("src",img2);
   //      }
   //  }

   //  function ifLenB(topEleA,topCheckedEleA,headEle,headEleImg,img1,img2){
   //      var len;
   //      var checkedLen;
   //      len=topEleA.length;
   //      checkedLen=topCheckedEleA.length;
   //      console.log(checkedLen)
   //      if( len==checkedLen ){
   //          headEle.prop("checked","checked");
   //          headEleImg.attr("src",img1);
   //      }else{
   //          headEle.prop("checked",false);
   //          headEleImg.attr("src",img2);
   //      }
   //  }
   //  function cateB($this,cateC,cateCimg,img1,img2){
   //      console.log(cateC)
   //      if( $this.prev().is(":checked") ){
   //          $this.prop("checked",false);
   //          $this.children().attr("src",img2);
   //          cateC.prop("checked",false);
   //          cateCimg.attr("src",img2);
   //      }else{
   //          $this.prop("checked","checked");
   //          $this.children().attr("src",img1);
   //          cateC.prop("checked","checked");
   //          cateCimg.attr("src",img1);
   //      }
   //  }

   //  cateBodyBLabel.click(function(){
   //      cateB(
   //          $(this),
   //          $(this).parent().parent().parent().find(".cateC>.cateBodyC>a.c1>input"),
   //          $(this).parent().parent().parent().find(".cateC>.cateBodyC>a.c1>label>img"),
   //          "/static/style_default/image/pro_23.png",
   //          "/static/style_default/image/pro_07.png"
   //      );
   //      checkedCate(
   //          $(this),
   //          $(this).parent().parent().parent().parent().find(".cateB>.cateBodyB>a.c1>input"),
   //          $(this).parent().parent().parent().parent().find(".cateB>.cateBodyB>a.c1>input:checkbox:checked"),
   //          $(this).parent().parent().parent().parent().find(".cateBodyA>a.c1>input"),
   //          $(this).parent().parent().parent().parent().find(".cateBodyA>a.c1>label>img"),
   //          "/static/style_default/image/pro_23.png",
   //          "/static/style_default/image/pro_07.png"
   //      );
   //      lenB(
   //          $(this),
   //          $(this).parent().parent().parent().parent().find(".cateB>.cateBodyB>a.c1>input"),
   //          $(this).parent().parent().parent().parent().find(".cateB>.cateBodyB>a.c1>input:checkbox:checked"),
   //          $(".cateHead>a.c1>input"),
   //          $(".cateHead>a.c1>label>img"),
   //          "/static/style_default/image/pro_23.png",
   //          "/static/style_default/image/pro_07.png"
   //      );
   //      ifLenB(
   //          $(this).parent().parent().parent().parent().parent().find(".cateA>.cateBodyA>a.c1>input"),
   //          $(this).parent().parent().parent().parent().parent().find(".cateA>.cateBodyA>a.c1>input:checked:checked"),
   //          $(".cateHead>a.c1>input"),
   //          $(".cateHead>a.c1>label>img"),
   //          "/static/style_default/image/pro_23.png",
   //          "/static/style_default/image/pro_07.png"
   //      )
   //  });

   //  function ifLen($this,eleLen,eleCheckedLen,topEle,headEle,topEleImg,headImg,img1,img2){
   //      var len;
   //      var checkedLen;
   //      len=eleLen.length;
   //      checkedLen=eleCheckedLen.length;
   //      if( $this.prev().is(":checked") ){
   //          checkedLen--;
   //      }else{
   //          checkedLen++;
   //      }
   //      console.log(checkedLen);
   //     if( checkedLen!=len ){
   //         topEle.prop("checked",false);
   //         topEleImg.attr("src",img2);
   //         headEle.prop("checked",false);
   //         headImg.attr("src",img2);
   //     }
   //  }
   //  //
   //  function topLen($this,topEleA,topEleCheckedA,cateA,cateAImg,topEleB,topEleCheckedB,cateB,cateBImg,img1,img2){
   //      var lenA,lenB,checkedLenA,checkedLenB;
   //      lenA=topEleA.length;
   //      checkedLenA=topEleCheckedA.length;
   //      lenB=topEleB.length;
   //      checkedLenB=topEleCheckedB.length;
   //      if( lenA==checkedLenA ){
   //          cateA.prop("checked","checked");
   //          cateAImg.attr("src",img1);
   //          checkedLenB++;
   //          if( lenB==checkedLenB ){
   //              cateB.prop("checked","checked");
   //              cateBImg.attr("src",img1);
   //              console.log("bbb");
   //          }
   //      }

   //      //console.log(lenB);
   //      console.log(checkedLenB);
   //  }

   //  cateBodyCLabel.click(function(){
   //      checkedCate(
   //          $(this),
   //          $(this).parent().parent().parent().parent().find(".cateC>.cateBodyC>a.c1>input"),
   //          $(this).parent().parent().parent().parent().find(".cateC>.cateBodyC>a.c1>input:checkbox:checked"),
   //          $(this).parent().parent().parent().parent().find(".cateBodyB>a.c1>input"),
   //          $(this).parent().parent().parent().parent().find(".cateBodyB>a.c1>label>img"),
   //          "/static/style_default/image/pro_23.png",
   //          "/static/style_default/image/pro_07.png"
   //      );
   //      ifLen(
   //          $(this),
   //          $(this).parent().parent().parent().parent().find(".cateC>.cateBodyC>a.c1>input"),
   //          $(this).parent().parent().parent().parent().find(".cateC>.cateBodyC>a.c1>input:checkbox:checked"),
   //          $(this).parent().parent().parent().parent().parent().find(".cateBodyA>a.c1>input"),
   //          $(".cateHead>a.c1>input"),
   //          $(this).parent().parent().parent().parent().parent().find(".cateBodyA>a.c1>label>img"),
   //          $(".cateHead>a.c1>label>img"),
   //          "/static/style_default/image/pro_23.png",
   //          "/static/style_default/image/pro_07.png"
   //      );
   //      topLen(
   //          $(this),
   //          $(this).parent().parent().parent().parent().parent().find(".cateB>.cateBodyB>a.c1>input"),
   //          $(this).parent().parent().parent().parent().parent().find(".cateB>.cateBodyB>a.c1>input:checked:checked"),
   //          $(this).parent().parent().parent().parent().parent().find(".cateBodyA>a.c1>input"),
   //          $(this).parent().parent().parent().parent().parent().find(".cateBodyA>a.c1>label>img"),
   //          $(this).parent().parent().parent().parent().parent().parent().find(".cateA>.cateBodyA>a.c1>input"),
   //          $(this).parent().parent().parent().parent().parent().parent().find(".cateA>.cateBodyA>a.c1>input:checked:checked"),
   //          $(".cateHead>a.c1>input"),
   //          $(".cateHead>a.c1>label>img"),
   //          "/static/style_default/image/pro_23.png",
   //          "/static/style_default/image/pro_07.png"
   //      )
   //  });

        // 选中
        $(".cateA label img").click(function(event) {
            if ($(this).hasClass('havechecked')) {
                $(this).attr('src', '/static/style_default/image/pro_07.png');
                $(this).removeClass('havechecked');
                var i = 0;
                $(".cateA label img").each(function(index, el) {
                    if ($(this).hasClass('havechecked')) {
                        i++;
                    }
                });
                if (i==0) {
                    $(".cateHead label img").attr('src', '/static/style_default/image/pro_07.png');
                    $(".cateHead label img").removeClass('havechecked');
                    $(".bottomAllSelect label img").attr('src', '/static/style_default/image/pro_07.png');
                    $(".bottomAllSelect label img").removeClass('havechecked');
                }
            } else {
                $(this).attr('src', '/static/style_default/image/pro_23.png');
                $(this).addClass('havechecked');
                var j = 0;
                $(".cateA label img").each(function(index, el) {
                    if (!$(this).hasClass('havechecked')) {
                        j++;
                    }
                });
                if (j==0) {
                    $(".cateHead label img").attr('src', '/static/style_default/image/pro_23.png');
                    $(".cateHead label img").addClass('havechecked');
                    $(".bottomAllSelect label img").attr('src', '/static/style_default/image/pro_23.png');
                    $(".bottomAllSelect label img").addClass('havechecked');
                }
            }
        });

        // 全选
       $(".cateHead label img").click(function(event) {
            if ($(this).hasClass('havechecked')) {
                $(this).attr('src', '/static/style_default/image/pro_07.png');
                $(this).removeClass('havechecked');
                $(".bottomAllSelect label img").attr('src', '/static/style_default/image/pro_07.png');
                $(".bottomAllSelect label img").removeClass('havechecked');
                $(".cateA label img").each(function(index, el) {
                   if ($(this).hasClass('havechecked')) {
                        $(this).attr('src', '/static/style_default/image/pro_07.png');
                        $(this).removeClass('havechecked');
                   }
                });
            } else {
                $(this).attr('src', '/static/style_default/image/pro_23.png');
                $(this).addClass('havechecked');
                $(".bottomAllSelect label img").attr('src', '/static/style_default/image/pro_23.png');
                $(".bottomAllSelect label img").addClass('havechecked');
                $(".cateA label img").each(function(index, el) {
                   if (!$(this).hasClass('havechecked')) {
                        $(this).attr('src', '/static/style_default/image/pro_23.png');
                        $(this).addClass('havechecked');
                   }
                });
            }
       });

       // 底部全选
       $(".bottomAllSelect label img").click(function(event) {
            if ($(this).hasClass('havechecked')) {
                $(this).attr('src', '/static/style_default/image/pro_07.png');
                $(this).removeClass('havechecked');
                $(".cateHead label img").attr('src', '/static/style_default/image/pro_07.png');
                $(".cateHead label img").removeClass('havechecked');
                $(".cateA label img").each(function(index, el) {
                   if ($(this).hasClass('havechecked')) {
                        $(this).attr('src', '/static/style_default/image/pro_07.png');
                        $(this).removeClass('havechecked');
                   }
                });
            } else {
                $(this).attr('src', '/static/style_default/image/pro_23.png');
                $(this).addClass('havechecked');
                $(".cateHead label img").attr('src', '/static/style_default/image/pro_23.png');
                $(".cateHead label img").addClass('havechecked');
                $(".cateA label img").each(function(index, el) {
                   if (!$(this).hasClass('havechecked')) {
                        $(this).attr('src', '/static/style_default/image/pro_23.png');
                        $(this).addClass('havechecked');
                   }
                });
            }
       });

      // 重置弹出窗口的屏幕显示位置
      var nagheight = $(window).height(); //浏览器时下窗口可视区域高度
      var nagwidth  = $(window).width(); //浏览器时下窗口可视区域宽
      var tiph   = $('.tips').outerHeight(); // 弹出元素的总高度
      var tipw   = $('.tips').outerWidth(); // 弹出元素的决宽度
      $('.tips').css('top', (nagheight-tiph)/2);
      $('.tips').css('left', (nagwidth-tipw)/2);

});













